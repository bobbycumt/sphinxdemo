## 2025-03

### 主题：智能自助红绿灯

### 器件

Atmega328P主控板1块，交通灯模块2个，按键模块1个，蜂鸣器模块1个，舵机1个。以上模块也可使用分立器件结合面包板搭建。

### 任务要求

任务要求：自助红绿灯为行人横穿主路时使用，人行道的总通行时间为10秒。为了安全起见，在人行道安装自动栏杆，本项目通过舵机来模拟栏杆。具体要求如下：

(1) 自助红绿灯未启动时，主路显示为绿灯,人行道显示为红灯，蜂鸣器保持静音，舵机旋转至0度，表示栏杆放下；

(2) 当人行道按键被按下后，主路的绿灯延时2秒后由绿灯经黄灯转换为红灯，黄灯时长2秒；

(3) 当主路为红灯时，人行道的绿灯点亮并闪烁，闪烁时间间隔为500毫秒，舵机旋转至90度，表示栏杆抬起，蜂鸣器保持静音；

(4) 当人行道的绿灯还剩余4秒时，绿灯快速闪烁，闪烁时间间隔为250毫秒，同时蜂鸣器发出提示音，提醒行人快速通过；

(5) 人行道通行时间结束，人行道红灯点亮，主路绿灯点亮，蜂鸣器保持静音，舵机旋转至0度，表示栏杆放下；

(6) 根据上述要求，绘制流程图；

(7) 未作规定处可自行处理，无明显与事实违背即可。

### 说明

(1) 将程序放在一个文件夹中，压缩为1个“rar或zip”格式文件，并命名为：DJKS3_身份证号，大小5M以下；

(2) 将程序文件通过“上传附件”按钮进行上传；

(3) 程序编写过程中不得打开其它示例程序，如发现，实操成绩按照0分处理。

### 评分项

1. 器件及器件连接（20分）
2. 流程图绘制及功能（20分）
3. 功能实现（60分）

(1) 系统通电后，实现当自助式红绿灯的按键没有被按下时，主路显示为绿灯,人行道显示为红灯；（5分）

(2) 实现当自助式红绿灯的按键没有被按下时，蜂鸣器静音,舵机旋转至0度；（5分）

(3) 实现当按键被按下后，主路的绿灯延时2秒后由绿灯经黄灯转换为红灯；（5分）

(4) 实现当主路为红灯时，人行道的绿灯点亮并闪烁，闪烁时间间隔为500毫秒；（10分）

(5) 实现当人行道绿灯点亮时，舵机旋转至90度；（5分）

(6) 实现人行道绿灯正常通行时长为6秒，得5分。可通过LED灯闪烁的次数来判定；（5分）

(7) 实现当人行道的绿灯还剩余4秒时，绿灯快速闪烁，闪烁时间间隔为250毫秒，提醒行人快速通过；（10分）

(8) 实现通过蜂鸣器进行声音提醒。当绿灯快速闪烁时，蜂鸣器发出蜂鸣的声音；（10分）

(9) 实现人行道通行时间结束，人行道红灯点亮，主路绿灯点亮，蜂鸣器静音，舵机旋转至0度。（5分）

### 流程图



### 参考程序

